<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>Search Engine Evaluation Report</title>
    <link rel="stylesheet" type="text/css" href="/css/statistic.css"/>
</head>
<body>
	<div class="chooseQuery">
		<form action="#" th:action="@{/eval}" method="get">
			<label th:text="'Query Type: '"/>
			<select id="queryType" name="queryType" >
				<option th:each="type : ${types}" 
						th:value="${type}"
						th:text="${type}"
						th:selected="(${type} == ${queryType})"/>
			</select>
			<button type="submit" th:text="ok" />
		</form>
	</div>

	<h3>Results:</h3>
	
	<table id="result">
		<thead>
			<tr>
				<th id="id">ID</th>
				<th id="name">Query</th>
				<th id="p10">P@10</th>
				<th id="p10">P@20</th>
				<th id="p48">P@48</th>
				<th id="ap">AP</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="queryResult: ${queryResults}">
				<td th:text="${queryResult.key}" />
				<td th:text="${queryResult.value.queryName}" />
				<td class="num" th:text="${queryResult.value.precisions[10] != null} ? ${#numbers.formatDecimal(queryResult.value.precisions[10], 1, 1)}" />
				<td class="num" th:text="${queryResult.value.precisions[20] != null} ? ${#numbers.formatDecimal(queryResult.value.precisions[20], 1, 1)}" />
				<td class="num" th:text="${queryResult.value.precisions[48] != null} ? ${#numbers.formatDecimal(queryResult.value.precisions[48], 1, 3)}" />
				<td class="num" th:text="${#numbers.formatDecimal(queryResult.value.ap, 1, 3)}" />
			</tr>
		</tbody>
		<tfoot>
			<tr><th colspan="5" th:text="'Mean Average Precision:' + ${#numbers.formatDecimal(map, 1, 4)}" /></tr>
		</tfoot>
	</table>
	
	<div id="explain">
		*TOP: choosen from the top keywords of LITB website. <br/>
		*BAD: choosen from the online keywords which have a pool CTR.
	</div>
</body>
</html>