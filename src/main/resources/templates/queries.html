<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>Manage Queries</title>
	<script type="text/javascript" src="/scripts/query.js"></script>
	<link rel="stylesheet" type="text/css" href="/css/main.css" />
	<link rel="stylesheet" type="text/css" href="/css/query.css" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&amp;subset=Latin" />
</head>
<body>
	<div th:replace="fragments/header :: header" />
	<div class="content">
		<div id="chooseQueryType" >
			<form action="#" th:action="@{/query/list}" method="get">
				<label th:text="'Query Type: '"/>
				<select id="queryType" name="queryType" >
					<option th:each="type : ${types}" 
							th:value="${type}"
							th:text="${type}"
							th:selected="(${type} == ${queryType})"/>
				</select>
				<button type="submit" th:text="ok" />
			</form>
		</div>
		<div th:if="${queryType != null}">
		<table id="queries">
			<thead>
				<tr>
					<th>ID</th>
					<th>Query</th>
					<th>Types</th>
					<th>Active</th>
					<th><button class="add-btn" type="Add" th:text="add" th:onclick="'popup(\'/query/popupCreate\')'"/></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="query : ${queries}">
					<td th:text="${query.id}"  />
					<td th:text="${query.name}" />
					<td th:text="${#strings.listJoin(query.queryTypes, ',')}"></td>
					<td><input type="checkbox" disabled="disabled" th:checked="${query.effective}"/></td>
					<td><button th:onclick="'popup(\'/query/popupEdit?queryId=' + ${query.id} +'\')'" type="submit" th:text="edit" /></td>
				</tr>
			</tbody>
		</table>
		</div>
	</div>
</body>
</html>